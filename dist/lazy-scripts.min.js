!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).LazyScripts=t()}(this,function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)});var d=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.queue=[],this.callback=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"push",value:function(e){this.queue=[].concat(n(this.queue),n(e)),this.callback&&this.callback(this.queue)}},{key:"shift",value:function(){return this.queue.shift()}},{key:"length",value:function(){return this.queue.length}}]),t}();return function(){var e=function(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(o,!0).forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(o).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}({lazyScriptsInitialized:"lsi",lazyScriptSelector:"[data-lazy-script]",lazyScriptsSelector:"[data-lazy-scripts]"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),n=document.documentElement;if("true"!==n.dataset[e.lazyScriptsInitialized]){var r,i="",o="",c=!1,a={},u=document.querySelectorAll("".concat(e.lazyScriptSelector,", ").concat(e.lazyScriptsSelector));!function(){if(n.dataset[e.lazyScriptsInitialized]=!0,document.querySelectorAll("script").forEach(function(e){e.src&&""!==e.src&&(a[e.src]=!0)}),r=new d(l),i=s(e.lazyScriptSelector),o=s(e.lazyScriptsSelector),window.IntersectionObserver){var t=new IntersectionObserver(function(e,t){return function(e,t){e.forEach(function(e){e.isIntersecting&&(f(e.target),t.unobserve(e.target))})}(e,t)},e.intersectionObserverOptions);u.forEach(function(e){t.observe(e)})}else window.requestAnimationFrame?window.requestAnimationFrame(function(){return p()}):p()}()}else console.info("ðŸ›ˆ LazyScripts already initialized");function s(e){return e.replace("[data-","").replace("]","").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function l(){if(!c){var t=r.shift();if(t){if(t&&!a[t]){var e=document.createElement("script");return e.type="text/javascript",e.src=t,c=!0,e.dataset.lazyScript=!0,a[t]=!0,e.onload=function(){if(c=!1,l(),window.CustomEvent){var e=new CustomEvent("lazyScriptLoaded",{detail:{scriptSrc:t}});document.body.dispatchEvent(e)}},e.onerror=function(){c=!1,a[t]=!1,l()},void document.body.appendChild(e)}0<r.length()&&window.setTimeout(function(){l()})}}}function f(e){e.dataset[i]&&r.push([e.dataset[i]]),r.push(JSON.parse(e.dataset[o]||"[]"))}function p(){u.forEach(function(e){return f(e)})}}});
