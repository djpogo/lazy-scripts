!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).LazyScripts=e()}(this,function(){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)});var d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[],this.callback=t}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(e,[{key:"push",value:function(t){this.queue=[].concat(n(this.queue),n(t)),this.callback&&this.callback(this.queue)}},{key:"shift",value:function(){return this.queue.shift()}},{key:"length",value:function(){return this.queue.length}}]),e}();return function(){var t=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({lazyScriptsInitialized:"lsi",lazyScriptSelector:"[data-lazy-script]",lazyScriptsSelector:"[data-lazy-scripts]"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),n=document.documentElement;if("true"!==n.dataset[t.lazyScriptsInitialized]){var r,i="",o="",c=!1,a={},u=document.querySelectorAll("".concat(t.lazyScriptSelector,", ").concat(t.lazyScriptsSelector));!function(){if(n.dataset[t.lazyScriptsInitialized]=!0,document.querySelectorAll("script").forEach(function(t){t.src&&""!==t.src&&(a[t.src]=!0)}),r=new d(s),i=l(t.lazyScriptSelector),o=l(t.lazyScriptsSelector),window.IntersectionObserver){var e=new IntersectionObserver(function(t,e){return function(t,e){t.forEach(function(t){t.isIntersecting&&(f(t.target),e.unobserve(t.target))})}(t,e)},t.intersectionObserverOptions);u.forEach(function(t){e.observe(t)})}else window.requestAnimationFrame?window.requestAnimationFrame(function(){return p()}):p()}()}else console.info("ðŸ›ˆ LazyScripts already initialized");function l(t){return t.replace("[data-","").replace("]","").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function s(){if(!c){var e=r.shift();if(e)if(e&&!a[e]){var t=document.createElement("script");t.type="text/javascript",t.src=e,c=!0,t.dataset.lazyScript=!0,a[e]=!0,t.onload=function(){if(c=!1,s(),window.CustomEvent){var t=new CustomEvent("lazyScriptLoaded",{detail:{scriptSrc:e}});document.body.dispatchEvent(t)}},t.onerror=function(){c=!1,a[e]=!1,s()},document.body.appendChild(t)}else 0<r.length()&&window.setTimeout(function(){s()})}}function f(t){t.dataset[i]&&r.push([t.dataset[i]]),r.push(JSON.parse(t.dataset[o]||"[]"))}function p(){u.forEach(function(t){return f(t)})}}});
